---
title: 归并排序
date: 2025-10-13 20:06:40
categories: alg
---

```cpp
const int N = 1e5 + 10; // 假设数组最大长度为 1e5
int tmp[N];             // 全局定义的临时数组
void merge_sort(int q[], int l, int r)
{
    // 1.判边界
    if (l >= r) return;

    // 2.定分界点
    int mid = l + r >> 1;
    // 递归排序子序列
    merge_sort(q, l, mid), merge_sort(q, mid + 1, r);
 
    // 3.归并排序（双指针法）
    int k = 0, i = l, j = mid + 1;
    while (i <= mid && j <= r)
        if (q[i] <= q[j]) tmp[k ++ ] = q[i ++ ];
        else tmp[k ++ ] = q[j ++ ];
    // 某个子序列走到最后了，将另一个序列剩余部分加入到 tmp 中
    while (i <= mid) tmp[k ++ ] = q[i ++ ];
    while (j <= r) tmp[k ++ ] = q[j ++ ];

    // 将排序结果 tmp 重新覆盖掉 q
    for (i = l, j = 0; i <= r; i ++, j ++ ) q[i] = tmp[j];
}
```

